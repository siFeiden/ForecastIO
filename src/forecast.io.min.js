var Forecast=function(e){this._apikey=e};Forecast.prototype={constructor:Forecast,getForecast:function(e,t,n,r){var i="https://api.forecast.io/forecast/"+this._apikey;i+="/"+e+","+t;if(r){if(r.time)i+=","+r.time;var s="?";if(r.units){i+=s+"units="+r.units;s="&"}if(r.exclude){i+=s+"exclude=";if(Array.isArray(r.exclude))i+=r.exclude.join(",");else i+=r.exclude;s="&"}if(r.extend){i+=s+"extend=hourly";s="&"}if(r.nocache)i+=s+"nocache="+(new Date).getTime()}var o=new XMLHttpRequest;o.open("GET",i,true);o.onload=function(){var e=Forecast.Response(this.responseText);n(e)};o.send()}};Forecast.Response=function(e){var t=JSON.parse(e);if(t.minutely)t.minutely=Forecast.Data.Block(t.minutely);if(t.hourly)t.hourly=Forecast.Data.Block(t.hourly);if(t.daily)t.daily=Forecast.Data.Block(t.daily);if(t.flags)t.flags=Forecast.Data.Flags(t.flags);return t};Forecast.Data={};Forecast.Data.Block=function(e){var t=e.data;t.summary=e.summary;t.icon=e.icon;return t};Forecast.Data.Flags=function(e){this._rawFlags=e;e.darkskyUnavailable=e["darksky-unavailable"];e.darkskyStations=e["darksky-stations"];e.datapointStations=e["datapoint-stations"];e.isdStations=e["isd-stations"];e.lampStations=e["lamp-stations"];e.metarStations=e["metar-stations"];e.metnoLicense=e["metno-license"]}